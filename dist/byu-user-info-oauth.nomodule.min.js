var ByuUserInfoOAuth=function(){"use strict";var e="byu-browser-oauth-state-changed",t="byu-browser-oauth-login-requested",n="byu-browser-oauth-logout-requested",o="byu-browser-oauth-state-requested",r="indeterminate",u="unauthenticated",a="authenticated",i={state:r};s(function(e){i=e});function s(t){var n=function(e){t(e.detail)};return document.addEventListener(e,n,!1),i.state===r?d(o,{callback:t}):t(i),{offStateChange:function(){document.removeEventListener(e,n,!1)}}}function c(e){return window.Promise?new Promise(function(t,n){var o=s(function(r){var u=r.state,a=r.token,i=r.user,s=r.error;s?(n(s),o.offStateChange()):e.indexOf(u)>=0&&(t({state:u,token:a,user:i}),o.offStateChange())})}):null}function d(e,t){var n;"function"==typeof window.CustomEvent?n=new CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!1,t),document.dispatchEvent(n)}var f=function(e){function o(){e.call(this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.connectedCallback=function(){var e=this;!function(e){var o=e.ownerDocument,r=o.createElement("byu-user-info");e._userInfo=r;var i=o.createElement("a");i.innerText="Sign In",i.setAttribute("slot","login"),i.addEventListener("click",function(){c([a]),d(t)});var s=o.createElement("a");s.innerText="Sign Out",s.setAttribute("slot","logout"),s.addEventListener("click",function(){c([u]),d(n)}),r.appendChild(i),r.appendChild(s),e.appendChild(r)}(this),this._observer=s(function(t){return e.authStateChanged(t)})},o.prototype.disconnectedCallback=function(){this._observer&&this._observer.offStateChange(),this._userInfo=null},o.prototype.authStateChanged=function(e){e.state,e.token;var t=e.user,n=(e.error,this._userInfo.querySelector('[slot="user-name"]')),o=!!n;if(t){var r=o?n:this.ownerDocument.createElement("span");r.setAttribute("slot","user-name"),r.innerText=t.name.givenName,o||this._userInfo.appendChild(r)}else o&&this._userInfo.removeChild(n)},o}(HTMLElement);return window.customElements.define("byu-user-info-oauth",f),f}();
//# sourceMappingURL=byu-user-info-oauth.nomodule.min.js.map
